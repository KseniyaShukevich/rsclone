(()=>{var e={1504:e=>{function t(e,t,n,r,o,a,u){try{var s=e[a](u),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,a){var u=e.apply(n,r);function s(e){t(u,o,a,s,c,"next",e)}function c(e){t(u,o,a,s,c,"throw",e)}s(void 0)}))}}},1873:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},7135:(e,t,n)=>{e.exports=n(6248)},6459:(e,t,n)=>{"use strict";n(9641);var r=n(7135),o=n.n(r),a=n(1504),u=n.n(a),s=n(1873),c=n.n(s),i="qwertyujn";const l="http://localhost:3000";function p(){return localStorage.getItem("".concat(i,"token"))}function f(e){return d.apply(this,arguments)}function d(){return(d=u()(o().mark((function e(t){var n,r,a,u,s,c,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:null,a={},r&&(a["Content-Type"]="application/json",u=JSON.stringify(r)),e.next=6,fetch("".concat(l).concat(t),{method:n,headers:a,body:u});case 6:if((s=e.sent).ok){e.next=10;break}return console.warn("Error",s.statusText),e.abrupt("return",null);case 10:return e.next=12,s.json();case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=document.querySelector("#btn-save"),y=document.querySelector("#file"),v=document.querySelector("#image-preview");function h(){return(h=u()(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.getElementById("new-name").value.trim())){e.next=5;break}return e.next=4,f("/user/api/changeUserName","PUT",{name:t,token:p()});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=u()(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("new-email").value.trim(),!/^[a-z0-9_.]+@\w+\.\w+$/i.test(t)){e.next=5;break}return e.next=4,f("/user/api/changeUserEmail","PUT",{email:t,token:p()});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=u()(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/user/api/updatePass","POST",{currPass:t,newPass:n,token:p()});case 2:r=e.sent,console.log(r),console.log(c()(r.password));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){var e=document.getElementById("curr-password").value.trim(),t=document.getElementById("new-password").value.trim();e&&t&&function(e,t){g.apply(this,arguments)}(e,t)}document.querySelector("#user-token").value=p(),y.addEventListener("change",(function(){if(y.files&&y.files[0]){var e=new FileReader;e.addEventListener("loadend",(function(e){v.src=e.target.result})),e.readAsDataURL(y.files[0])}})),m.addEventListener("click",(function(e){!function(){h.apply(this,arguments)}(),function(){x.apply(this,arguments)}(),b()}));var w=document.getElementById("exit");function k(){return(k=u()(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"===(t=p())){e.next=6;break}return e.next=4,f("/user/api/userData","POST",{token:t});case 4:n=e.sent,console.log(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){k.apply(this,arguments)}(),w.addEventListener("click",(function(){localStorage.setItem("".concat(i,"token"),0)}))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={378:0},t=[[6459,641,248]],r=e=>{},o=(o,a)=>{for(var u,s,[c,i,l,p]=a,f=0,d=[];f<c.length;f++)s=c[f],n.o(e,s)&&e[s]&&d.push(e[s][0]),e[s]=0;for(u in i)n.o(i,u)&&(n.m[u]=i[u]);for(l&&l(n),o&&o(a);d.length;)d.shift()();return p&&t.push.apply(t,p),r()},a=self.webpackChunk=self.webpackChunk||[];function u(){for(var r,o=0;o<t.length;o++){for(var a=t[o],u=!0,s=1;s<a.length;s++){var c=a[s];0!==e[c]&&(u=!1)}u&&(t.splice(o--,1),r=n(n.s=a[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a));var s=n.x;n.x=()=>(n.x=s||(e=>{}),(r=u)())})(),n.x()})();