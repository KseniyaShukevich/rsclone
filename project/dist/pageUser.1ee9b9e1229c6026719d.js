(()=>{var e={1504:e=>{function r(e,r,t,n,a,o,s){try{var c=e[o](s),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function c(e){r(s,a,o,c,u,"next",e)}function u(e){r(s,a,o,c,u,"throw",e)}c(void 0)}))}}},7135:(e,r,t)=>{e.exports=t(6248)},6459:(e,r,t)=>{"use strict";t(9641);var n=t(7135),a=t.n(n),o=t(1504),s=t.n(o),c="qwertyujn";const u="http://localhost:3000";function i(){return localStorage.getItem("".concat(c,"token"))}function l(e){return d.apply(this,arguments)}function d(){return(d=s()(a().mark((function e(r){var t,n,o,s,c,i,l=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,o={},n&&(o["Content-Type"]="application/json",s=JSON.stringify(n)),e.next=6,fetch("".concat(u).concat(r),{method:t,headers:o,body:s});case 6:if((c=e.sent).ok){e.next=10;break}return console.warn("Error",c.statusText),e.abrupt("return",null);case 10:return e.next=12,c.json();case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=document.querySelector("#btn-save"),f=document.querySelector("#new-email"),v=document.querySelector("#file"),m=document.querySelector("#image-preview"),y=document.querySelector("#email-error-message"),h=document.querySelector("#curr-password"),b=document.querySelector("#currPass-error-message"),g=document.querySelector("#new-password"),k=document.querySelector("#new-pass-error-message"),w=document.querySelector("#repeat-new-password"),x=document.querySelector("#repeat-new-pass-error-message"),L=document.querySelector("#save-error-message");function S(){var e=document.querySelector("#new-name").value.trim();e&&l("/user/api/changeUserName","PUT",{name:e,token:i()})}function E(){var e=f.value.trim();e&&l("/user/api/changeUserEmail","PUT",{email:e,token:i()})}function q(){var e=f.value.trim();return e&&!/^[a-z0-9_.]+@\w+\.\w+$/i.test(e)?(y.classList.contains("display-block")||(y.classList.add("display-block"),f.classList.add("error-color")),!1):(y.classList.remove("display-block"),!0)}function P(e,r){e.target.classList.remove("error-color"),r.classList.remove("display-block")}function T(){return O.apply(this,arguments)}function O(){return(O=s()(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=h.value.trim())){e.next=8;break}return e.next=4,l("/user/api/password","POST",{currPass:r,token:i()});case 4:if(e.sent.password){e.next=8;break}return h.classList.contains("error-color")||(h.classList.add("error-color"),b.classList.add("display-block")),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){var e=h.value.trim(),r=g.value.trim(),t=w.value.trim();e&&r&&t&&function(e,r,t){r===t&&r.length>5&&t.length>5&&l("/user/api/updatePass","POST",{currPass:e,newPass:r,token:i()})}(e,r,t)}function U(){var e=g.value.trim(),r=w.value.trim();return e===r&&e.length>5&&r.length>5||!e&&!r}function _(){return(_=s()(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,T();case 3:t=e.sent,q()&&t&&U()?(n=document.querySelector("#user-settings"),S(),E(),j(),n.submit()):L.classList.add("display-block");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.querySelector("#user-token").value=i(),p.addEventListener("click",(function(e){return _.apply(this,arguments)})),v.addEventListener("change",(function(){if(v.files&&v.files[0]){var e=new FileReader;e.addEventListener("loadend",(function(e){m.src=e.target.result})),e.readAsDataURL(v.files[0])}})),f.addEventListener("blur",q),f.addEventListener("focus",(function(e){P(e,y)})),h.addEventListener("blur",T),h.addEventListener("focus",(function(e){P(e,b)})),g.addEventListener("blur",(function(){var e=g.value.trim();e&&e.length<6&&(g.classList.contains("error-color")||(g.classList.add("error-color"),k.classList.add("display-block")))})),g.addEventListener("focus",(function(e){P(e,k)})),w.addEventListener("blur",(function(){g.value.trim()!==w.value.trim()&&(w.classList.contains("error-color")||(w.classList.add("error-color"),x.classList.add("display-block")))})),w.addEventListener("focus",(function(e){P(e,x)}));var C=document.getElementById("exit");function D(){return(D=s()(a().mark((function e(){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"===(r=i())){e.next=6;break}return e.next=4,l("/user/api/userData","POST",{token:r});case 4:t=e.sent,console.log(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){D.apply(this,arguments)}(),C.addEventListener("click",(function(){localStorage.setItem("".concat(c,"token"),0)}))}},r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.m=e,t.x=e=>{},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={378:0},r=[[6459,641,248]],n=e=>{},a=(a,o)=>{for(var s,c,[u,i,l,d]=o,p=0,f=[];p<u.length;p++)c=u[p],t.o(e,c)&&e[c]&&f.push(e[c][0]),e[c]=0;for(s in i)t.o(i,s)&&(t.m[s]=i[s]);for(l&&l(t),a&&a(o);f.length;)f.shift()();return d&&r.push.apply(r,d),n()},o=self.webpackChunk=self.webpackChunk||[];function s(){for(var n,a=0;a<r.length;a++){for(var o=r[a],s=!0,c=1;c<o.length;c++){var u=o[c];0!==e[u]&&(s=!1)}s&&(r.splice(a--,1),n=t(t.s=o[0]))}return 0===r.length&&(t.x(),t.x=e=>{}),n}o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o));var c=t.x;t.x=()=>(t.x=c||(e=>{}),(n=s)())})(),t.x()})();