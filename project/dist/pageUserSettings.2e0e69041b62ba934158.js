(()=>{var e={1504:e=>{function r(e,r,t,n,s,a,o){try{var u=e[a](o),c=u.value}catch(e){return void t(e)}u.done?r(c):Promise.resolve(c).then(n,s)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var o=e.apply(t,n);function u(e){r(o,s,a,u,c,"next",e)}function c(e){r(o,s,a,u,c,"throw",e)}u(void 0)}))}}},7135:(e,r,t)=>{e.exports=t(6248)},412:(e,r,t)=>{"use strict";t(9641);var n=t(7135),s=t.n(n),a=t(1504),o=t.n(a);const u="http://localhost:3000";function c(){return localStorage.getItem("".concat("qwertyujn","token"))}function i(e){return l.apply(this,arguments)}function l(){return(l=o()(s().mark((function e(r){var t,n,a,o,c,i,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,a={},n&&(a["Content-Type"]="application/json",o=JSON.stringify(n)),e.next=6,fetch("".concat(u).concat(r),{method:t,headers:a,body:o});case 6:if((c=e.sent).ok){e.next=10;break}return console.warn("Error",c.statusText),e.abrupt("return",null);case 10:return e.next=12,c.json();case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=document.querySelector("#btn-save"),p=document.querySelector("#new-email"),f=document.querySelector("#file"),v=document.querySelector("#image-preview"),m=document.querySelector("#email-error-message"),y=document.querySelector("#curr-password"),h=document.querySelector("#currPass-error-message"),b=document.querySelector("#new-password"),g=document.querySelector("#new-pass-error-message"),w=document.querySelector("#repeat-new-password"),k=document.querySelector("#repeat-new-pass-error-message"),x=document.querySelector("#save-error-message"),L=document.querySelector("#email-error-message-reg");function S(){var e=document.querySelector("#new-name").value.trim();e&&i("/settings/api/name","PUT",{name:e,token:c()})}function q(){var e=p.value.trim();e&&i("/settings/api/email","PUT",{email:e,token:c()})}function E(e){return P.apply(this,arguments)}function P(){return(P=o()(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^[a-z0-9_.]+@\w+\.\w+$/i.test(r)){e.next=7;break}return e.next=3,i("/settings/api/email","POST",{email:r});case 3:if((t=e.sent).length&&!L.classList.contains("display-block")&&L.classList.add("display-block"),!t.length){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return O.apply(this,arguments)}function O(){return(O=o()(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=p.value.trim())||/^[a-z0-9_.]+@\w+\.\w+$/i.test(r)){e.next=4;break}return m.classList.contains("display-block")||(m.classList.add("display-block"),p.classList.add("error-color")),e.abrupt("return",!1);case 4:return E(r),m.classList.remove("display-block"),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,r){e.target.classList.remove("error-color"),r.classList.remove("display-block")}function _(){return U.apply(this,arguments)}function U(){return(U=o()(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=y.value.trim())){e.next=8;break}return e.next=4,i("/settings/api/password","POST",{currPass:r,token:c()});case 4:if(e.sent.password){e.next=8;break}return y.classList.contains("error-color")||(y.classList.add("error-color"),h.classList.add("display-block")),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){var e=y.value.trim(),r=b.value.trim(),t=w.value.trim();e&&r&&t&&function(e,r,t){r===t&&r.length>5&&t.length>5&&i("/settings/api/password","PUT",{currPass:e,newPass:r,token:c()})}(e,r,t)}function M(){var e=b.value.trim(),r=w.value.trim();return e===r&&e.length>5&&r.length>5||!e&&!r}function z(){return(z=o()(s().mark((function e(r){var t,n,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=p.value.trim(),e.next=4,_();case 4:return n=e.sent,e.next=7,E(t);case 7:a=e.sent,T()&&n&&M()&&a?(o=document.querySelector("#user-settings"),S(),q(),C(),o.submit()):x.classList.add("display-block");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.querySelector("#user-token").value=c(),d.addEventListener("click",(function(e){return z.apply(this,arguments)})),f.addEventListener("change",(function(){if(f.files&&f.files[0]){var e=new FileReader;e.addEventListener("loadend",(function(e){v.src=e.target.result})),e.readAsDataURL(f.files[0])}})),p.addEventListener("blur",T),p.addEventListener("focus",(function(e){j(e,m)})),p.addEventListener("focus",(function(){L.classList.remove("display-block")})),y.addEventListener("blur",_),y.addEventListener("focus",(function(e){j(e,h)})),b.addEventListener("blur",(function(){var e=b.value.trim();e&&e.length<6&&(b.classList.contains("error-color")||(b.classList.add("error-color"),g.classList.add("display-block")))})),b.addEventListener("focus",(function(e){j(e,g)})),w.addEventListener("blur",(function(){b.value.trim()!==w.value.trim()&&(w.classList.contains("error-color")||(w.classList.add("error-color"),k.classList.add("display-block")))})),w.addEventListener("focus",(function(e){j(e,k)}))}},r={};function t(n){if(r[n])return r[n].exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.m=e,t.x=e=>{},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={702:0},r=[[412,641,248]],n=e=>{},s=(s,a)=>{for(var o,u,[c,i,l,d]=a,p=0,f=[];p<c.length;p++)u=c[p],t.o(e,u)&&e[u]&&f.push(e[u][0]),e[u]=0;for(o in i)t.o(i,o)&&(t.m[o]=i[o]);for(l&&l(t),s&&s(a);f.length;)f.shift()();return d&&r.push.apply(r,d),n()},a=self.webpackChunk=self.webpackChunk||[];function o(){for(var n,s=0;s<r.length;s++){for(var a=r[s],o=!0,u=1;u<a.length;u++){var c=a[u];0!==e[c]&&(o=!1)}o&&(r.splice(s--,1),n=t(t.s=a[0]))}return 0===r.length&&(t.x(),t.x=e=>{}),n}a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a));var u=t.x;t.x=()=>(t.x=u||(e=>{}),(n=o)())})(),t.x()})();